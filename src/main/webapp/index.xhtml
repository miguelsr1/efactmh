<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes"/>
            <link rel="shortcut icon" href="#{request.contextPath}/icon.png" sizes="192x192" />
        </f:facet>
        <title>FacturaMe</title>
    </h:head>

    <h:body styleClass="login-body" style="background-image: linear-gradient(189deg, #EFF8FF 100%, var(--e-global-color-uicore_dark) 0%) !important">
        <h:form prependId="false">

            <div class="container">
                <div class="align-items-center justify-content-center">
                    <div class="surface-card p-8 shadow-4 border-round w-full lg:w-12" jsf:id="divLogin">
                        <div class="text-center mb-5">
                            <p:graphicImage name="login.png" library="images" alt="Image"
                                            height="50" styleClass="mb-3"/>
                            <div class="text-900 text-3xl font-medium mb-3">FacturaMe SV</div>
                            <span class="text-600 font-medium line-height-3">¿No tienes cuenta?</span>
                            <a class="font-medium no-underline ml-9 text-blue-500 cursor-pointer">Créala ya!</a>
                        </div>
                        <div>
                            <label for="email1" class="block text-900 font-medium mb-2">Correo electrónico</label>
                            <p:inputText id="email" styleClass="w-full mb-3" placeholder="correo@dominio.com" value="#{loginView.usuario}" required="true"/>
                            <label for="password1" class="block text-900 font-medium mb-2">Contraseña</label>
                            <p:inputText id="password" type="password" styleClass="w-full mb-3" placeholder="Clave de acceso" value="#{loginView.claveAcceso}" required="true"/>

                            <div class="flex align-items-center justify-content-between mb-6">
                                <div class="flex align-items-center">

                                </div>
                                <a class="font-medium no-underline ml-2 text-blue-500 text-right cursor-pointer">¿Olvidaste tu contraseña?</a>
                            </div>

                            <p:commandButton value="Ingresa" icon="pi pi-user" styleClass="w-full" action="#{loginView.validarProveedor()}" update="divLogin"/>
                            <br/>
                            <br/>
                            <small style="margin: 0 auto;">1.0.6</small>
                        </div>
                    </div>
                    <p:messages showDetail="true" closable="true">
                        <p:autoUpdate />
                    </p:messages>
                </div>
            </div>


            <p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException" update="viewExpiredDialog" onexception="PF('viewExpiredDialog').show();" />

            <p:dialog id="viewExpiredDialog" header="Session expired" widgetVar="viewExpiredDialog" height="500px" onShow="document.location.href = document.location.href;">
                <h3>Reloading page</h3>
                Message: #{pfExceptionHandler.message} <br/>
                StackTrace: <h:outputText value="#{pfExceptionHandler.formattedStackTrace}" escape="false" />
            </p:dialog>

        </h:form>
        <h:outputStylesheet name="css/layout-default.css" library="paradise-layout" />
        <h:outputStylesheet name="css/primeflex.min.css" library="paradise-layout" />
        <h:outputStylesheet name="login-custom.css" library="css" />
    </h:body>

</html>